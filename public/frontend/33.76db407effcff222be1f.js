(self.webpackChunkpainting_shop_front=self.webpackChunkpainting_shop_front||[]).push([[33],{33:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AdminModule:()=>yt});var s=i(1116),n=i(1462),o=i(8637),r=i(1190),a=i(529),l=i(5366),d=i(8845);let c=(()=>{class e{constructor(e,t){this.auth=e,this.router=t}canActivate(e,t){return!!a.N.NoAuthGuard||!!this.auth.CheckRegistered()||this.router.createUrlTree(["/auth"])}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(d.e),l.LFG(r.F0))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),u=(()=>{class e{constructor(e,t){this.auth=e,this.router=t}canActivate(e,t){return e.data.expectedRole===this.auth.GetUserRole()||this.router.createUrlTree(["/"])}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(d.e),l.LFG(r.F0))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=i(9996),g=i(5264);let p=(()=>{class e{constructor(e){this.datastorageservice=e}resolve(e,t){const i=e.params.id;return this.datastorageservice.FetchUsersList(e.params.pn,a.N.AdminUserListPageSize).pipe((0,h.U)(e=>e.Users[i]))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(g.Z))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),m=(()=>{class e{constructor(e){this.datastorageservice=e}resolve(e,t){const i=e.params.id;return this.datastorageservice.FetchFilesList(e.params.pn,a.N.MediaListPageSize).pipe((0,h.U)(e=>e.Files[i]))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(g.Z))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),b=(()=>{class e{constructor(e){this.datastorageservice=e}resolve(e,t){const i=e.params.id;return this.datastorageservice.FetchSessionsList(e.params.pn,a.N.SessionsListPageSize).pipe((0,h.U)(e=>e.Sessions[i]))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(g.Z))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),f=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-admin"]],decls:11,vars:0,consts:[[1,"nav","nav-tabs"],[1,"active"],["routerLink","/admin/users","routerLinkActive","active",1,"nav-link"],["routerLink","/admin/sessions","routerLinkActive","active",1,"nav-link"],["routerLink","/admin/media","routerLinkActive","active",1,"nav-link"]],template:function(e,t){1&e&&(l.TgZ(0,"ul",0),l.TgZ(1,"li",1),l.TgZ(2,"a",2),l._uU(3,"Users"),l.qZA(),l.qZA(),l.TgZ(4,"li"),l.TgZ(5,"a",3),l._uU(6,"Sessions"),l.qZA(),l.qZA(),l.TgZ(7,"li"),l.TgZ(8,"a",4),l._uU(9,"Media"),l.qZA(),l.qZA(),l.qZA(),l._UZ(10,"router-outlet"))},directives:[r.yS,r.Od,r.lC],styles:[""]}),e})();var _=i(7446),v=i(7570),Z=i(318);function x(e){return null!=e&&"false"!=`${e}`}function w(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function T(e){return e instanceof l.SBq?e.nativeElement:e}var y=i(8318),S=i(3559),C=i(6673),A=i(8870);class E{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new k(e,this.dueTime,this.scheduler))}}class k extends C.L{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(M,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function M(e){e.debouncedNext()}let I=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),F=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=T(e);return new y.y(e=>{const i=this._observeElement(t).subscribe(e);return()=>{i.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new S.xQ,i=this._mutationObserverFactory.create(e=>t.next(e));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:i}=this._observedElements.get(e);t&&t.disconnect(),i.complete(),this._observedElements.delete(e)}}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(I))},e.\u0275prov=l.Yz7({factory:function(){return new e(l.LFG(I))},token:e,providedIn:"root"}),e})(),L=(()=>{class e{constructor(e,t,i){this._contentObserver=e,this._elementRef=t,this._ngZone=i,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=x(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=w(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(function(e,t=A.P){return i=>i.lift(new E(e,t))}(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(F),l.Y36(l.SBq),l.Y36(l.R0b))},e.\u0275dir=l.lG2({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[I]}),e})();var O=i(878);let U;i(611);try{U="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(St){U=!1}let R,D,P=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,s.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!U)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(l.Lbi))},e.\u0275prov=l.Yz7({factory:function(){return new e(l.LFG(l.Lbi))},token:e,providedIn:"root"}),e})(),J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({}),e})();function N(e){return function(){if(null==R&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>R=!0}))}finally{R=R||!1}return R}()?e:!!e.capture}function Q(e){return 0===e.buttons}function Y(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const z=new l.OlP("cdk-focus-monitor-default-options"),B=N({passive:!0,capture:!0});let G=(()=>{class e{constructor(e,t,i,s){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=e=>{if(!this._lastTouchTarget){const t=Q(e)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=e=>{Y(e)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=j(e),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=e=>{const t=j(e),i="focus"===e.type?this._onFocus:this._onBlur;for(let s=t;s;s=s.parentElement)i.call(this,e,s)},this._document=i,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(e,t=!1){const i=T(e);if(!this._platform.isBrowser||1!==i.nodeType)return(0,O.of)(null);const s=function(e){if(function(){if(null==D){const e="undefined"!=typeof document?document.head:null;D=!(!e||!e.createShadowRoot&&!e.attachShadow)}return D}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),n=this._elementInfo.get(i);if(n)return t&&(n.checkChildren=!0),n.subject;const o={checkChildren:t,subject:new S.xQ,rootNode:s};return this._elementInfo.set(i,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){const t=T(e),i=this._elementInfo.get(t);i&&(i.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(i))}focusVia(e,t,i){const s=T(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([e,i])=>this._originChanged(e,t,i)):(this._setOriginForCurrentEventQueue(t),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,i){i?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const t=j(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const i=this._elementInfo.get(t);i&&(i.checkChildren||t===j(e))&&this._originChanged(t,this._getFocusOrigin(e),i)}_onBlur(e,t){const i=this._elementInfo.get(t);!i||i.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(i.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,i=this._rootNodeFocusListenerCount.get(t)||0;i||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,B),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,B)}),this._rootNodeFocusListenerCount.set(t,i+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const e=this._getDocument(),t=this._getWindow();e.addEventListener("keydown",this._documentKeydownListener,B),e.addEventListener("mousedown",this._documentMousedownListener,B),e.addEventListener("touchstart",this._documentTouchstartListener,B),t.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,B),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,B),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){const e=this._getDocument(),t=this._getWindow();e.removeEventListener("keydown",this._documentKeydownListener,B),e.removeEventListener("mousedown",this._documentMousedownListener,B),e.removeEventListener("touchstart",this._documentTouchstartListener,B),t.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(e,t,i){this._setClasses(e,t),this._emitOrigin(i.subject,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){const t=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&t.push([s,i])}),t}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(l.R0b),l.LFG(P),l.LFG(s.K0,8),l.LFG(z,8))},e.\u0275prov=l.Yz7({factory:function(){return new e(l.LFG(l.R0b),l.LFG(P),l.LFG(s.K0,8),l.LFG(z,8))},token:e,providedIn:"root"}),e})();function j(e){return e.composedPath?e.composedPath()[0]:e.target}const H="cdk-high-contrast-black-on-white",V="cdk-high-contrast-white-on-black",K="cdk-high-contrast-active";let $=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,i=t&&t.getComputedStyle?t.getComputedStyle(e):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(K),e.remove(H),e.remove(V),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?(e.add(K),e.add(H)):2===t&&(e.add(K),e.add(V))}}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(P),l.LFG(s.K0))},e.\u0275prov=l.Yz7({factory:function(){return new e(l.LFG(P),l.LFG(s.K0))},token:e,providedIn:"root"}),e})(),X=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({}),e})();const W=new l.GfV("12.0.3");var ee=i(6670);const te=new l.GfV("12.0.3"),ie=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let se,ne=(()=>{class e{constructor(e,t,i){this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return(0,l.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&te.full!==W.full&&console.warn("The Angular Material version ("+te.full+") does not match the Angular CDK version ("+W.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275fac=function(t){return new(t||e)(l.LFG($),l.LFG(ie,8),l.LFG(s.K0))},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[X],X]}),e})();function oe(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=x(e)}}}function re(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}}}function ae(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=x(e)}}}function le(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?w(e):this.defaultTabIndex}}}try{se="undefined"!=typeof Intl}catch(St){se=!1}class de{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ce={enterDuration:450,exitDuration:400},ue=N({passive:!0}),he=["mousedown","touchstart"],ge=["mouseup","mouseleave","touchend","touchcancel"];class pe{constructor(e,t,i,s){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=T(i))}fadeInRipple(e,t,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),n=Object.assign(Object.assign({},ce),i.animation);i.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const o=i.radius||function(e,t,i){const s=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),n=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(s*s+n*n)}(e,t,s),r=e-s.left,a=t-s.top,l=n.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=r-o+"px",d.style.top=a-o+"px",d.style.height=2*o+"px",d.style.width=2*o+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d),window.getComputedStyle(d).getPropertyValue("opacity"),d.style.transform="scale(1)";const c=new de(this,d,i);return c.state=0,this._activeRipples.add(c),i.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const e=c===this._mostRecentTransientRipple;c.state=1,i.persistent||e&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,s=Object.assign(Object.assign({},ce),e.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.parentNode.removeChild(i)},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=T(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(he))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ge),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Q(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||i||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Y(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,ue)})})}_removeTriggerEvents(){this._triggerElement&&(he.forEach(e=>{this._triggerElement.removeEventListener(e,this,ue)}),this._pointerUpEventsRegistered&&ge.forEach(e=>{this._triggerElement.removeEventListener(e,this,ue)}))}}const me=new l.OlP("mat-ripple-global-options");let be=(()=>{class e{constructor(e,t,i,s,n){this._elementRef=e,this._animationMode=n,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new pe(this,t,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(P),l.Y36(me,8),l.Y36(ee.Qb,8))},e.\u0275dir=l.lG2({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&l.ekj("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),fe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[ne,J],ne]}),e})();const _e=["thumbContainer"],ve=["toggleBar"],Ze=["input"],xe=function(e){return{enterDuration:e}},we=["*"],Te=new l.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let ye=0;const Se={provide:n.JU,useExisting:(0,l.Gpc)(()=>ke),multi:!0};class Ce{constructor(e,t){this.source=e,this.checked=t}}class Ae{constructor(e){this._elementRef=e}}const Ee=le(re(ae(oe(Ae))));let ke=(()=>{class e extends Ee{constructor(e,t,i,s,n,o){super(e),this._focusMonitor=t,this._changeDetectorRef=i,this.defaults=n,this._onChange=e=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++ye,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new l.vpe,this.toggleChange=new l.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=n.color||"accent",this._noopAnimations="NoopAnimations"===o}get required(){return this._required}set required(e){this._required=x(e)}get checked(){return this._checked}set checked(e){this._checked=x(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._inputElement.nativeElement.focus():e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new Ce(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq),l.Y36(G),l.Y36(l.sBO),l.$8M("tabindex"),l.Y36(Te),l.Y36(ee.Qb,8))},e.\u0275cmp=l.Xpm({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(e,t){if(1&e&&(l.Gf(_e,5),l.Gf(ve,5),l.Gf(Ze,5)),2&e){let e;l.iGM(e=l.CRH())&&(t._thumbEl=e.first),l.iGM(e=l.CRH())&&(t._thumbBarEl=e.first),l.iGM(e=l.CRH())&&(t._inputElement=e.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,t){2&e&&(l.Ikx("id",t.id),l.uIk("tabindex",t.disabled?null:-1)("aria-label",null)("aria-labelledby",null),l.ekj("mat-checked",t.checked)("mat-disabled",t.disabled)("mat-slide-toggle-label-before","before"==t.labelPosition)("_mat-animation-noopable",t._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[l._Bn([Se]),l.qOj],ngContentSelectors:we,decls:16,vars:19,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,t){if(1&e&&(l.F$t(),l.TgZ(0,"label",0,1),l.TgZ(2,"div",2,3),l.TgZ(4,"input",4,5),l.NdJ("change",function(e){return t._onChangeEvent(e)})("click",function(e){return t._onInputClick(e)}),l.qZA(),l.TgZ(6,"div",6,7),l._UZ(8,"div",8),l.TgZ(9,"div",9),l._UZ(10,"div",10),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"span",11,12),l.NdJ("cdkObserveContent",function(){return t._onLabelTextChange()}),l.TgZ(13,"span",13),l._uU(14,"\xa0"),l.qZA(),l.Hsn(15),l.qZA(),l.qZA()),2&e){const e=l.MAs(1),i=l.MAs(12);l.uIk("for",t.inputId),l.xp6(2),l.ekj("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),l.xp6(2),l.Q6J("id",t.inputId)("required",t.required)("tabIndex",t.tabIndex)("checked",t.checked)("disabled",t.disabled),l.uIk("name",t.name)("aria-checked",t.checked.toString())("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby),l.xp6(5),l.Q6J("matRippleTrigger",e)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",l.VKq(17,xe,t._noopAnimations?0:150))}},directives:[be,L],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),e})(),Me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({}),e})(),Ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[Me,fe,ne,q],Me,ne]}),e})();function Fe(e,t){1&e&&(l.TgZ(0,"div",4),l.TgZ(1,"span",5),l._uU(2,"Loading..."),l.qZA(),l.qZA())}function Le(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"ngb-alert",6),l.NdJ("close",function(){return l.CHM(e),l.oxw().ShowMessage=!1}),l._uU(1),l.qZA()}if(2&e){const e=l.oxw();l.Q6J("type",e.MessageType),l.xp6(1),l.hij(" ",e.ResponseFromBackend.Error.Message,"")}}function qe(e,t){1&e&&(l.TgZ(0,"h2"),l._uU(1,"Edit"),l.qZA())}function Oe(e,t){1&e&&(l.TgZ(0,"h2"),l._uU(1,"Create"),l.qZA())}function Ue(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"form",7,8),l.NdJ("ngSubmit",function(){l.CHM(e);const t=l.MAs(1);return l.oxw().OnSaveClick(t)}),l.TgZ(2,"div",9),l.TgZ(3,"div",10),l.YNc(4,qe,2,0,"h2",11),l.YNc(5,Oe,2,0,"h2",11),l.TgZ(6,"div",9),l.TgZ(7,"label",12),l._uU(8,"Name"),l.qZA(),l._UZ(9,"input",13),l.qZA(),l.TgZ(10,"div",9),l.TgZ(11,"label",14),l._uU(12,"Email"),l.qZA(),l._UZ(13,"input",15),l.qZA(),l.TgZ(14,"div",9),l.TgZ(15,"label",16),l._uU(16,"Phone"),l.qZA(),l._UZ(17,"input",17),l.qZA(),l.TgZ(18,"div",9),l.TgZ(19,"label",18),l._uU(20,"Select role:"),l.qZA(),l.TgZ(21,"select",19),l.TgZ(22,"option",20),l._uU(23,"Guest"),l.qZA(),l.TgZ(24,"option",21),l._uU(25,"Admin"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(26,"label",22),l._uU(27,"Password"),l.qZA(),l.TgZ(28,"div",23),l.TgZ(29,"div",24),l.TgZ(30,"div",25),l.TgZ(31,"input",26),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().changepassword=t}),l.qZA(),l.qZA(),l.qZA(),l._UZ(32,"input",27),l.qZA(),l.TgZ(33,"div",9),l.TgZ(34,"mat-slide-toggle",28),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().UserToEdit.Disabled=t}),l._uU(35," Disabled "),l.qZA(),l.qZA(),l.TgZ(36,"button",29),l._uU(37,"Save"),l.qZA(),l.TgZ(38,"button",30),l._uU(39,"Cancel"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.MAs(1),t=l.oxw();l.xp6(4),l.Q6J("ngIf",t.editmode),l.xp6(1),l.Q6J("ngIf",!t.editmode),l.xp6(4),l.Q6J("ngModel",t.UserToEdit.Name),l.xp6(4),l.Q6J("ngModel",t.UserToEdit.Email),l.xp6(4),l.Q6J("ngModel",t.UserToEdit.Phone),l.xp6(4),l.Q6J("ngModel",t.UserToEdit.Role),l.xp6(10),l.Q6J("ngModel",t.changepassword),l.xp6(1),l.Q6J("disabled",!t.changepassword),l.xp6(2),l.Q6J("ngModel",t.UserToEdit.Disabled),l.xp6(2),l.Q6J("disabled",e.invalid)}}let Re=(()=>{class e{constructor(e,t,i,s){this.AdminServ=e,this.activatedroute=t,this.router=i,this.datastore=s,this.editmode=!1,this.IsLoading=!1,this.changepassword=!1,this.DatabaseUpdated=new v.w,this.DataLoading=new v.w,this.RecivedErrorSub=new v.w,this.ShowMessage=!1}ngOnDestroy(){this.DataLoading.unsubscribe(),this.RecivedErrorSub.unsubscribe(),this.DatabaseUpdated.unsubscribe()}ngOnInit(){this.activatedroute.params.subscribe(e=>{this.editmode=null!=e.id,this.editmode?(this.index=+e.id,this.UserToEdit=this.AdminServ.GetUserById(this.index)):(this.changepassword=!0,this.UserToEdit=new _.n("guest_role_read_only","","","")),this.AdminServ.CurrentSelectedItem=this.UserToEdit}),this.DatabaseUpdated=this.datastore.UserUpdateInsert.subscribe(e=>{this.editmode?(this.UserToEdit=e,this.AdminServ.UpdateExistingUser(this.UserToEdit,this.index)):(this.UserToEdit=e,this.AdminServ.AddNewUser(this.UserToEdit)),setTimeout(()=>this.router.navigate(["../"],{relativeTo:this.activatedroute,queryParamsHandling:"merge"}),1e3)}),this.RecivedErrorSub=this.datastore.RecivedError.subscribe(e=>{if(this.ShowMessage=!0,this.ResponseFromBackend=e,setTimeout(()=>this.ShowMessage=!1,5e3),e)switch(e.Error.Code){case 200:this.MessageType="success";break;default:this.MessageType="danger"}}),this.DataLoading=this.datastore.LoadingData.subscribe(e=>{this.IsLoading=e})}OnSaveClick(e){if(e.valid){if(e.value.changepassword&&0===e.value.newpassword.length)return;this.UserToEdit.Email=e.value.useremail,this.UserToEdit.Name=e.value.username,this.UserToEdit.Phone=e.value.userphone,this.UserToEdit.Role=e.value.roles,this.datastore.SaveUser(this.UserToEdit,e.value.changepassword,e.value.newpassword)}}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(Z.f),l.Y36(r.gz),l.Y36(r.F0),l.Y36(g.Z))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-user-edit"]],decls:4,vars:3,consts:[[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[3,"type","close",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],["role","status",1,"spinner-border"],[1,"sr-only"],[3,"type","close"],[3,"ngSubmit"],["UserEditForm","ngForm"],[1,"form-group"],[2,"margin","3px"],[4,"ngIf"],["for","name"],["type","text","id","name","placeholder","example","name","username","required","",1,"form-control","mb-1",3,"ngModel"],["for","email"],["type","email","id","email","placeholder","exampe@example.com","name","useremail","required","","email","",1,"form-control","mb-1",3,"ngModel"],["for","phone"],["type","tel","id","phone","placeholder","+7 (965) 777-77-77","name","userphone","pattern","^((8|\\+7)[\\- ]?)?(\\(?\\d{3,4}\\)?[\\- ]?)?[\\d\\- ]{5,10}$",1,"form-control","mb-1",3,"ngModel"],["for","roles"],["name","roles","id","roles","required","",1,"form-control",3,"ngModel"],["value","guest_role_read_only"],["value","admin_role_CRUD"],["for","newpassword"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","checkbox","id","changepassword","name","changepassword",3,"ngModel","ngModelChange"],["type","password","id","newpassword","name","newpassword","placeholder","Enter new password","ngModel","",1,"form-control",3,"disabled"],["color","primary","name","disabled",1,"mat-margin",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],["type","button","routerLink","..",1,"btn","btn-outline-danger",2,"margin-left","3px"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,Fe,3,0,"div",1),l.qZA(),l.YNc(2,Le,2,2,"ngb-alert",2),l.YNc(3,Ue,40,10,"form",3)),2&e&&(l.xp6(1),l.Q6J("ngIf",t.IsLoading),l.xp6(1),l.Q6J("ngIf",t.ShowMessage),l.xp6(1),l.Q6J("ngIf",t.UserToEdit))},directives:[s.O5,o.xm,n._Y,n.JL,n.F,n.Fj,n.Q7,n.JJ,n.On,n.on,n.c5,n.EJ,n.YN,n.Kr,n.Wl,ke,r.rH],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ff0a1d40!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #34b30d40!important}select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}select.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ff0a1d40!important}select.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}select.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #34b30d40!important}.image-placeholder[_ngcontent-%COMP%]{background-color:#eee;display:flex;height:333px;margin:5px;border-radius:3px;max-width:592px}.image-placeholder[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{align-self:center;text-align:center;width:100%}.mat-header-h2[_ngcontent-%COMP%]{margin:10px}.mat-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.mat-margin[_ngcontent-%COMP%]{margin:10px}"]}),e})();function De(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"ngb-alert",12),l.NdJ("close",function(){return l.CHM(e),l.oxw(2).ShowMessage=!1}),l._uU(1),l.qZA()}if(2&e){const e=l.oxw(2);l.Q6J("type",e.MessageType),l.xp6(1),l.hij(" ",e.ResponseFromBackend.Error.Message,"")}}function Pe(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"li",13),l.NdJ("click",function(){const t=l.CHM(e).$implicit;return l.oxw(2).AdminServ.SelectItemUsersList(t)}),l.TgZ(1,"div",14),l.TgZ(2,"p",15),l._uU(3),l.qZA(),l.TgZ(4,"div",16),l.TgZ(5,"button",17),l._uU(6,"Edit"),l.qZA(),l.TgZ(7,"button",18),l.NdJ("click",function(){const t=l.CHM(e),i=t.$implicit,s=t.index;return l.oxw(2).OnDeleteUser(i,s)}),l._uU(8,"Delete"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=t.$implicit,i=t.index,s=l.oxw(2);l.Q6J("ngClass",s.AdminServ.IsCurrentSelected(e)?"active":""),l.xp6(3),l.hij(" ",e.Email,""),l.xp6(2),l.Q6J("routerLink",i.toString())}}function Je(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"ngb-pagination",19),l.NdJ("pageChange",function(t){return l.CHM(e),l.oxw(2).OnPageChanged(t)}),l.qZA()}if(2&e){const e=l.oxw(2);l.Q6J("collectionSize",e.usCollectionSize)("pageSize",e.usPageSize)("page",e.usCurrentPage)("rotate",!0)("boundaryLinks",!0)("maxSize",11)}}const Ne=function(e){return["/admin/users",e,"new"]};function Qe(e,t){if(1&e&&(l.TgZ(0,"div",3),l.TgZ(1,"div",4),l.TgZ(2,"div",5),l.TgZ(3,"div",6),l.TgZ(4,"button",7),l._uU(5,"Add"),l.qZA(),l.qZA(),l.qZA(),l.YNc(6,De,2,2,"ngb-alert",8),l.TgZ(7,"ul",9),l.YNc(8,Pe,9,3,"li",10),l.qZA(),l.YNc(9,Je,1,6,"ngb-pagination",11),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(4),l.Q6J("routerLink",l.VKq(4,Ne,e.usCurrentPage)),l.xp6(2),l.Q6J("ngIf",e.ShowMessage),l.xp6(2),l.Q6J("ngForOf",e.Users),l.xp6(1),l.Q6J("ngIf",e.usCollectionSize>e.usPageSize)}}function Ye(e,t){1&e&&(l.TgZ(0,"div",20),l.TgZ(1,"span",21),l._uU(2,"Loading..."),l.qZA(),l.qZA())}let ze=(()=>{class e{constructor(e,t,i,s){this.ActiveRoute=e,this.DataServ=t,this.AdminServ=i,this.router=s}ngOnDestroy(){this.RecivedErrorSub.unsubscribe(),this.PageChanged.unsubscribe(),this.DataLoading.unsubscribe(),this.FetchOnInint.unsubscribe()}ngOnInit(){this.usPageSize=a.N.AdminUserListPageSize,this.RecivedErrorSub=this.DataServ.RecivedError.subscribe(e=>{if(this.ShowMessage=!0,this.ResponseFromBackend=e,setTimeout(()=>this.ShowMessage=!1,5e3),e)switch(e.Error.Code){case 200:this.MessageType="success";break;default:this.MessageType="danger"}}),this.PageChanged=this.ActiveRoute.params.subscribe(e=>{this.usCurrentPage=+e.pn,this.FetchOnInint=this.DataServ.FetchUsersList(this.usCurrentPage,a.N.AdminUserListPageSize).subscribe(e=>{this.Users=this.AdminServ.GetUsers(),this.usCollectionSize=this.AdminServ.Total},e=>{this.Users=[]})}),this.DataLoading=this.DataServ.LoadingData.subscribe(e=>{this.IsLoading=e})}OnPageChanged(e){this.usCurrentPage=e,this.router.navigate(["../",e.toString()],{relativeTo:this.ActiveRoute})}OnDeleteUser(e,t){this.AdminServ.DeleteUser(t),this.DataServ.DeleteUser(e),this.Users=this.AdminServ.GetUsers()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(r.gz),l.Y36(g.Z),l.Y36(Z.f),l.Y36(r.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-user-list"]],decls:3,vars:2,consts:[["class","row",4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[1,"row"],[1,"col"],[1,"input-group","mb-1"],[1,"input-group-prepend","mt-1"],["queryParamsHandling","merge",1,"btn","btn-outline-primary",3,"routerLink"],[3,"type","close",4,"ngIf"],[1,"list-group","mb-1"],["style","cursor: pointer;","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange",4,"ngIf"],[3,"type","close"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"ngClass","click"],[1,"input-group"],[1,"p-2","m-0","flex-grow-1",2,"place-items","center"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-success",3,"routerLink"],["type","button",1,"btn","btn-outline-danger",3,"click"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(l.YNc(0,Qe,10,6,"div",0),l.TgZ(1,"div",1),l.YNc(2,Ye,3,0,"div",2),l.qZA()),2&e&&(l.Q6J("ngIf",!t.IsLoading),l.xp6(2),l.Q6J("ngIf",t.IsLoading))},directives:[s.O5,r.rH,s.sg,o.xm,s.mk,o.N9],styles:[""]}),e})();var Be=i(902);function Ge(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"ngb-alert",11),l.NdJ("close",function(){return l.CHM(e),l.oxw(2).ShowMessage=!1}),l._uU(1),l.qZA()}if(2&e){const e=l.oxw(2);l.Q6J("type",e.MessageType),l.xp6(1),l.hij(" ",e.ResponseFromBackend.Error.Message,"")}}function je(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",12),l.TgZ(1,"a",13),l._UZ(2,"img",14),l.qZA(),l.TgZ(3,"div",15),l.TgZ(4,"button",16),l._uU(5,"Edit"),l.qZA(),l.TgZ(6,"button",17),l.NdJ("click",function(){const t=l.CHM(e),i=t.$implicit,s=t.index;return l.oxw(2).OnDeleteFile(i,s)}),l._uU(7,"Delete"),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=t.$implicit,i=t.index;l.xp6(1),l.Q6J("href",e.FileID,l.LSH),l.xp6(1),l.Q6J("src",e.PreviewID,l.LSH)("alt",e.Filename),l.xp6(2),l.Q6J("routerLink",i.toString())}}function He(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"ngb-pagination",18),l.NdJ("pageChange",function(t){return l.CHM(e),l.oxw(2).OnPageChanged(t)}),l.qZA()}if(2&e){const e=l.oxw(2);l.Q6J("collectionSize",e.meCollectionSize)("pageSize",e.mePageSize)("page",e.meCurrentPage)("rotate",!0)("boundaryLinks",!0)("maxSize",11)}}const Ve=function(e){return["/admin/media",e,"new"]};function Ke(e,t){if(1&e&&(l.TgZ(0,"div"),l.YNc(1,Ge,2,2,"ngb-alert",3),l.TgZ(2,"div",4),l.TgZ(3,"div",5),l.TgZ(4,"button",6),l._uU(5,"Add"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"div",7),l.YNc(7,je,8,4,"div",8),l.qZA(),l.TgZ(8,"div",9),l.YNc(9,He,1,6,"ngb-pagination",10),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",e.ShowMessage),l.xp6(3),l.Q6J("routerLink",l.VKq(4,Ve,e.meCurrentPage)),l.xp6(3),l.Q6J("ngForOf",e.Files),l.xp6(2),l.Q6J("ngIf",e.meCollectionSize>e.mePageSize)}}function $e(e,t){1&e&&(l.TgZ(0,"div",19),l.TgZ(1,"span",20),l._uU(2,"Loading..."),l.qZA(),l.qZA())}let Xe=(()=>{class e{constructor(e,t,i,s){this.ActiveRoute=e,this.DataServ=t,this.MediaServ=i,this.router=s,this.PageChanged=new v.w,this.FetchOnInint=new v.w,this.DataLoading=new v.w,this.IsLoading=!1,this.ShowMessage=!1,this.RecivedErrorSub=new v.w,this.Files=[]}ngOnDestroy(){this.RecivedErrorSub.unsubscribe(),this.PageChanged.unsubscribe(),this.DataLoading.unsubscribe(),this.FetchOnInint.unsubscribe()}ngOnInit(){this.mePageSize=a.N.MediaListPageSize,this.RecivedErrorSub=this.DataServ.RecivedError.subscribe(e=>{if(this.ShowMessage=!0,this.ResponseFromBackend=e,setTimeout(()=>this.ShowMessage=!1,5e3),e)switch(e.Error.Code){case 200:this.MessageType="success";break;default:this.MessageType="danger"}}),this.PageChanged=this.ActiveRoute.params.subscribe(e=>{this.meCurrentPage=+e.pn,this.FetchOnInint=this.DataServ.FetchFilesList(this.meCurrentPage,a.N.MediaListPageSize).subscribe(e=>{this.Files=this.MediaServ.GetFiles(),this.meCollectionSize=this.MediaServ.Total},e=>{this.Files=[]})}),this.DataLoading=this.DataServ.LoadingData.subscribe(e=>{this.IsLoading=e})}OnPageChanged(e){this.meCurrentPage=e,this.router.navigate(["../",e.toString()],{relativeTo:this.ActiveRoute})}OnDeleteFile(e,t){this.MediaServ.DeleteFile(t),this.DataServ.DeleteFile(e.ID,!1),this.Files=this.MediaServ.GetFiles()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(r.gz),l.Y36(g.Z),l.Y36(Be.y),l.Y36(r.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-media-list"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[3,"type","close",4,"ngIf"],[1,"input-group","ml-3"],[1,"input-group-prepend","mt-2"],["queryParamsHandling","merge",1,"btn","btn-outline-primary",3,"routerLink"],[1,"parent-media-box"],["class","media-box",4,"ngFor","ngForOf"],[1,"ml-3"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange",4,"ngIf"],[3,"type","close"],[1,"media-box"],[3,"href"],[3,"src","alt"],[1,"media-box-overlay"],["type","button",1,"btn","btn-outline-success",3,"routerLink"],["type","button",1,"btn","btn-outline-danger",3,"click"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(l.YNc(0,Ke,10,6,"div",0),l.TgZ(1,"div",1),l.YNc(2,$e,3,0,"div",2),l.qZA()),2&e&&(l.Q6J("ngIf",!t.IsLoading),l.xp6(2),l.Q6J("ngIf",t.IsLoading))},directives:[s.O5,r.rH,s.sg,o.xm,o.N9],styles:[".parent-media-box[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;grid-template-columns:repeat(auto-fill,minmax(360px,1fr));grid-auto-rows:minmax(200px,auto);padding:.3rem 1rem}.media-box[_ngcontent-%COMP%]{font-size:2rem;padding:.3rem;border-radius:5px;display:inline-block;position:relative;border:1px solid rgba(0,0,0,.125);color:#495057;width:100%;height:100%;object-fit:cover}.media-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:5px;display:block}.media-box-overlay[_ngcontent-%COMP%]{position:absolute;bottom:.5rem;right:.5rem}"]}),e})();var We=i(250);function et(e,t){1&e&&(l.TgZ(0,"div",4),l.TgZ(1,"span",5),l._uU(2,"Loading..."),l.qZA(),l.qZA())}function tt(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"ngb-alert",6),l.NdJ("close",function(){return l.CHM(e),l.oxw().ShowMessage=!1}),l._uU(1),l.qZA()}if(2&e){const e=l.oxw();l.Q6J("type",e.MessageType),l.xp6(1),l.hij(" ",e.ResponseFromBackend.Error.Message,"")}}function it(e,t){1&e&&(l.TgZ(0,"h2"),l._uU(1,"Edit"),l.qZA())}function st(e,t){1&e&&(l.TgZ(0,"h2"),l._uU(1,"Create"),l.qZA())}function nt(e,t){1&e&&(l.TgZ(0,"div",24),l.TgZ(1,"h4"),l._uU(2,"592x333"),l.qZA(),l.qZA())}function ot(e,t){if(1&e&&l._UZ(0,"img",25),2&e){const e=l.oxw(2);l.Q6J("src",e.FileToEdit.FileID,l.LSH)("alt",e.FileToEdit.Filename)}}function rt(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"form",null,7),l.TgZ(2,"div",8),l.TgZ(3,"div",9),l.YNc(4,it,2,0,"h2",3),l.YNc(5,st,2,0,"h2",3),l.YNc(6,nt,3,0,"div",10),l.TgZ(7,"a",11),l.YNc(8,ot,1,2,"img",12),l.qZA(),l.TgZ(9,"button",13),l.NdJ("click",function(){return l.CHM(e),l.MAs(13).click()}),l.TgZ(10,"span"),l._uU(11,"Upload image"),l.qZA(),l.TgZ(12,"input",14,15),l.NdJ("change",function(t){return l.CHM(e),l.oxw().onFileInput(t)}),l.qZA(),l.qZA(),l.TgZ(14,"div",16),l._UZ(15,"div",17),l.qZA(),l.TgZ(16,"div",8),l.TgZ(17,"label",18),l._uU(18,"File name"),l.qZA(),l._UZ(19,"input",19),l.qZA(),l.TgZ(20,"div",8),l.TgZ(21,"label",18),l._uU(22,"File size"),l.qZA(),l._UZ(23,"input",20),l.qZA(),l.TgZ(24,"div",8),l.TgZ(25,"label",18),l._uU(26,"File type"),l.qZA(),l._UZ(27,"input",21),l.qZA(),l.TgZ(28,"div",8),l.TgZ(29,"label",18),l._uU(30,"File link"),l.qZA(),l._UZ(31,"input",22),l.qZA(),l.TgZ(32,"button",23),l._uU(33,"Cancel"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(4),l.Q6J("ngIf",e.editmode),l.xp6(1),l.Q6J("ngIf",!e.editmode),l.xp6(1),l.Q6J("ngIf",!e.FileToEdit.FileID),l.xp6(1),l.Q6J("href",e.FileToEdit.FileID,l.LSH),l.xp6(1),l.Q6J("ngIf",e.FileToEdit.FileID),l.xp6(1),l.Q6J("disabled",e.editmode),l.xp6(6),l.Akn(e.CurPercentStyle),l.xp6(4),l.Q6J("ngModel",e.FileToEdit.Filename)("disabled",!0),l.xp6(4),l.Q6J("ngModel",e.FileToEdit.Filesize)("disabled",!0),l.xp6(4),l.Q6J("ngModel",e.FileToEdit.Filetype)("disabled",!0),l.xp6(4),l.Q6J("ngModel",e.FileToEdit.FileID)("disabled",!0)}}let at=(()=>{class e{constructor(e,t,i){this.MediaServ=e,this.activatedroute=t,this.datastore=i,this.editmode=!1,this.IsLoading=!1,this.CurPercentStyle="width: 0%",this.DataLoading=new v.w,this.RecivedErrorSub=new v.w,this.FileProgress=new v.w,this.FileUploaded=new v.w,this.ShowMessage=!1}ngOnDestroy(){this.DataLoading.unsubscribe(),this.RecivedErrorSub.unsubscribe(),this.FileProgress.unsubscribe(),this.FileUploaded.unsubscribe()}ngOnInit(){this.activatedroute.params.subscribe(e=>{this.editmode=null!=e.id,this.editmode?(this.index=+e.id,this.FileToEdit=this.MediaServ.GetFileById(this.index)):this.FileToEdit=new We.P("",0,"","","",0),this.MediaServ.CurrentSelectedItem=this.FileToEdit}),this.RecivedErrorSub=this.datastore.RecivedError.subscribe(e=>{if(this.ShowMessage=!0,this.ResponseFromBackend=e,setTimeout(()=>this.ShowMessage=!1,5e3),e)switch(e.Error.Code){case 200:this.MessageType="success";break;default:this.MessageType="danger"}}),this.DataLoading=this.datastore.LoadingData.subscribe(e=>{this.IsLoading=e}),this.FileProgress=this.datastore.FileUploadProgress.subscribe(e=>{this.CurPercentStyle="width: "+e+"%"}),this.FileUploaded=this.datastore.FileUploaded.subscribe(e=>{this.FileToEdit=e,this.editmode=!0})}onFileInput(e){this.CurPercentStyle="width: 0%",this.datastore.FileUpload(e.target.files[0])}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(Be.y),l.Y36(r.gz),l.Y36(g.Z))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-media-edit"]],decls:4,vars:3,consts:[[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[3,"type","close",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"sr-only"],[3,"type","close"],["FileEditForm","ngForm"],[1,"form-group"],[2,"margin","3px"],["class","image-placeholder mx-auto",4,"ngIf"],[3,"href"],["class","rounded d-block mx-auto","style","margin: 3px; max-width: 500px; max-height: 333px; max-width: 100%;",3,"src","alt",4,"ngIf"],["type","button",1,"btn","btn-outline-primary",2,"margin","3px",3,"disabled","click"],["type","file","accept","image/*",1,"form-control-file",2,"display","none",3,"change"],["fileInput",""],[1,"progress","mb-1"],["role","progressbar",1,"progress-bar","progress-bar-striped","progress-bar-animated"],["for","name"],["type","text","id","fname","placeholder","placeholder.jpg","name","filename","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","fsize","placeholder","0","name","filesize","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","ftype","placeholder","jpg","name","filetype","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","flink","placeholder","/uploads/placeholder.jpg","name","filelink","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","button","routerLink","..",1,"btn","btn-outline-danger",2,"margin-left","3px"],[1,"image-placeholder","mx-auto"],[1,"rounded","d-block","mx-auto",2,"margin","3px","max-width","500px","max-height","333px","max-width","100%",3,"src","alt"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,et,3,0,"div",1),l.qZA(),l.YNc(2,tt,2,2,"ngb-alert",2),l.YNc(3,rt,34,16,"form",3)),2&e&&(l.xp6(1),l.Q6J("ngIf",t.IsLoading),l.xp6(1),l.Q6J("ngIf",t.ShowMessage),l.xp6(1),l.Q6J("ngIf",t.FileToEdit))},directives:[s.O5,o.xm,n._Y,n.JL,n.F,n.Fj,n.Q7,n.JJ,n.On,r.rH],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ff0a1d40!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #34b30d40!important}.image-placeholder[_ngcontent-%COMP%]{background-color:#eee;display:flex;height:333px;margin:5px;border-radius:3px;max-width:592px}.image-placeholder[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{align-self:center;text-align:center;width:100%}"]}),e})();var lt=i(4374);function dt(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"ngb-alert",15),l.NdJ("close",function(){return l.CHM(e),l.oxw(2).ShowMessage=!1}),l._uU(1),l.qZA()}if(2&e){const e=l.oxw(2);l.Q6J("type",e.MessageType),l.xp6(1),l.hij(" ",e.ResponseFromBackend.Error.Message,"")}}function ct(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"li",16),l.NdJ("click",function(){const t=l.CHM(e).$implicit;return l.oxw(2).SessServ.SelectItemSessionsList(t)}),l.TgZ(1,"div",17),l.TgZ(2,"p",18),l._uU(3),l.qZA(),l.TgZ(4,"div",19),l.TgZ(5,"button",20),l._uU(6,"Edit"),l.qZA(),l.TgZ(7,"button",21),l.NdJ("click",function(){const t=l.CHM(e),i=t.$implicit,s=t.index;return l.oxw(2).OnDeleteSession(i,s)}),l._uU(8,"Delete"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=t.$implicit,i=t.index,s=l.oxw(2);l.Q6J("ngClass",s.SessServ.IsCurrentSelected(e)?"active":""),l.xp6(3),l.hij(" ",e.Email+" "+e.IP,""),l.xp6(2),l.Q6J("routerLink",i.toString())}}function ut(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"ngb-pagination",22),l.NdJ("pageChange",function(t){return l.CHM(e),l.oxw(2).OnPageChanged(t)}),l.qZA()}if(2&e){const e=l.oxw(2);l.Q6J("collectionSize",e.sesCollectionSize)("pageSize",e.sesPageSize)("page",e.sesCurrentPage)("rotate",!0)("boundaryLinks",!0)("maxSize",11)}}function ht(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"div",4),l.YNc(2,dt,2,2,"ngb-alert",5),l.TgZ(3,"form",6,7),l.NdJ("ngSubmit",function(){l.CHM(e);const t=l.MAs(4);return l.oxw().OnDeleteSessionByEmail(t)}),l.TgZ(5,"div",8),l.TgZ(6,"label",9),l._uU(7,"Email"),l.qZA(),l._UZ(8,"input",10),l.TgZ(9,"button",11),l._uU(10,"Delete"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"ul",12),l.YNc(12,ct,9,3,"li",13),l.qZA(),l.YNc(13,ut,1,6,"ngb-pagination",14),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(2),l.Q6J("ngIf",e.ShowMessage),l.xp6(10),l.Q6J("ngForOf",e.Sessions),l.xp6(1),l.Q6J("ngIf",e.sesCollectionSize>e.sesPageSize)}}function gt(e,t){1&e&&(l.TgZ(0,"div",23),l.TgZ(1,"span",24),l._uU(2,"Loading..."),l.qZA(),l.qZA())}let pt=(()=>{class e{constructor(e,t,i,s){this.ActiveRoute=e,this.DataServ=t,this.SessServ=i,this.router=s}ngOnDestroy(){this.RecivedErrorSub.unsubscribe(),this.PageChanged.unsubscribe(),this.DataLoading.unsubscribe(),this.FetchOnInint.unsubscribe()}ngOnInit(){this.sesPageSize=a.N.SessionsListPageSize,this.RecivedErrorSub=this.DataServ.RecivedError.subscribe(e=>{if(this.ShowMessage=!0,this.ResponseFromBackend=e,setTimeout(()=>this.ShowMessage=!1,5e3),e)switch(e.Error.Code){case 200:this.MessageType="success";break;default:this.MessageType="danger"}}),this.PageChanged=this.ActiveRoute.params.subscribe(e=>{this.sesCurrentPage=+e.pn,this.GetRecentData()}),this.DataLoading=this.DataServ.LoadingData.subscribe(e=>{this.IsLoading=e})}GetRecentData(){this.FetchOnInint=this.DataServ.FetchSessionsList(this.sesCurrentPage,a.N.SessionsListPageSize).subscribe(e=>{this.Sessions=this.SessServ.GetSessions(),this.sesCollectionSize=this.SessServ.Total},e=>{this.Sessions=[]})}OnPageChanged(e){this.sesCurrentPage=e,this.router.navigate(["../",e.toString()],{relativeTo:this.ActiveRoute})}OnDeleteSession(e,t){this.SessServ.DeleteSession(t),this.DataServ.DeleteSessionByToken(e.Token),this.Sessions=this.SessServ.GetSessions()}OnDeleteSessionByEmail(e){e.valid&&(this.DataServ.DeleteSessionByEmail(e.value.useremail),this.GetRecentData())}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(r.gz),l.Y36(g.Z),l.Y36(lt.j),l.Y36(r.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-sessions-list"]],decls:3,vars:2,consts:[["class","row",4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[1,"row"],[1,"col"],[3,"type","close",4,"ngIf"],[1,"mt-1","mb-1",3,"ngSubmit"],["DelSesByEmailForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","placeholder","exampe@example.com","name","useremail","ngModel","","required","","email","",1,"form-control","mb-1"],["type","submit",1,"btn","btn-outline-danger"],[1,"list-group","mb-1"],["style","cursor: pointer;","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange",4,"ngIf"],[3,"type","close"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"ngClass","click"],[1,"input-group"],[1,"p-2","m-0","flex-grow-1",2,"place-items","center"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-success",3,"routerLink"],["type","button",1,"btn","btn-outline-danger",3,"click"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(l.YNc(0,ht,14,3,"div",0),l.TgZ(1,"div",1),l.YNc(2,gt,3,0,"div",2),l.qZA()),2&e&&(l.Q6J("ngIf",!t.IsLoading),l.xp6(2),l.Q6J("ngIf",t.IsLoading))},directives:[s.O5,n._Y,n.JL,n.F,n.Fj,n.JJ,n.On,n.Q7,n.on,s.sg,o.xm,s.mk,r.rH,o.N9],styles:[""]}),e})();var mt=i(2165);function bt(e,t){1&e&&(l.TgZ(0,"div",4),l.TgZ(1,"span",5),l._uU(2,"Loading..."),l.qZA(),l.qZA())}function ft(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"ngb-alert",6),l.NdJ("close",function(){return l.CHM(e),l.oxw().ShowMessage=!1}),l._uU(1),l.qZA()}if(2&e){const e=l.oxw();l.Q6J("type",e.MessageType),l.xp6(1),l.hij(" ",e.ResponseFromBackend.Error.Message,"")}}function _t(e,t){1&e&&(l.TgZ(0,"h2"),l._uU(1,"Edit"),l.qZA())}function vt(e,t){1&e&&(l.TgZ(0,"h2"),l._uU(1,"Create"),l.qZA())}function Zt(e,t){if(1&e&&(l.TgZ(0,"form",null,7),l.TgZ(2,"div",8),l.TgZ(3,"div",9),l.YNc(4,_t,2,0,"h2",3),l.YNc(5,vt,2,0,"h2",3),l.TgZ(6,"div",8),l.TgZ(7,"label",10),l._uU(8,"Email"),l.qZA(),l._UZ(9,"input",11),l.qZA(),l.TgZ(10,"div",8),l.TgZ(11,"label",12),l._uU(12,"IP"),l.qZA(),l._UZ(13,"input",13),l.qZA(),l.TgZ(14,"div",8),l.TgZ(15,"label",12),l._uU(16,"User agent"),l.qZA(),l._UZ(17,"input",14),l.qZA(),l.TgZ(18,"div",8),l.TgZ(19,"label",15),l._uU(20,"Select role:"),l.qZA(),l.TgZ(21,"select",16),l.TgZ(22,"option",17),l._uU(23,"Guest"),l.qZA(),l.TgZ(24,"option",18),l._uU(25,"Admin"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(26,"div",8),l.TgZ(27,"label",12),l._uU(28,"Token"),l.qZA(),l._UZ(29,"input",19),l.qZA(),l.TgZ(30,"div",8),l.TgZ(31,"label",12),l._uU(32,"Session"),l.qZA(),l._UZ(33,"input",20),l.qZA(),l.TgZ(34,"div",8),l.TgZ(35,"label",12),l._uU(36,"Issued"),l.qZA(),l._UZ(37,"input",21),l.qZA(),l.TgZ(38,"div",8),l.TgZ(39,"label",12),l._uU(40,"Expires"),l.qZA(),l._UZ(41,"input",22),l.qZA(),l.TgZ(42,"button",23),l._uU(43,"Cancel"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(4),l.Q6J("ngIf",e.editmode),l.xp6(1),l.Q6J("ngIf",!e.editmode),l.xp6(4),l.Q6J("ngModel",e.SessionToEdit.Email)("disabled",!0),l.xp6(4),l.Q6J("ngModel",e.SessionToEdit.IP)("disabled",!0),l.xp6(4),l.Q6J("ngModel",e.SessionToEdit.UserAgent)("disabled",!0),l.xp6(4),l.Q6J("ngModel",e.SessionToEdit.Role)("disabled",!0),l.xp6(8),l.Q6J("ngModel",e.SessionToEdit.Token)("disabled",!0),l.xp6(4),l.Q6J("ngModel",e.SessionToEdit.Session)("disabled",!0),l.xp6(4),l.Q6J("ngModel",e.SessionToEdit.IssDate)("disabled",!0),l.xp6(4),l.Q6J("ngModel",e.SessionToEdit.ExpDate)("disabled",!0)}}let xt=(()=>{class e{constructor(e,t,i){this.SessServ=e,this.activatedroute=t,this.datastore=i,this.editmode=!1,this.SessionToEdit=new mt.z,this.IsLoading=!1,this.DataLoading=new v.w,this.RecivedErrorSub=new v.w,this.ShowMessage=!1}ngOnDestroy(){this.DataLoading.unsubscribe(),this.RecivedErrorSub.unsubscribe()}ngOnInit(){this.activatedroute.params.subscribe(e=>{this.editmode=null!=e.id,this.editmode&&(this.index=+e.id,this.SessionToEdit=this.SessServ.GetSessionById(this.index)),this.SessServ.CurrentSelectedItem=this.SessionToEdit}),this.RecivedErrorSub=this.datastore.RecivedError.subscribe(e=>{if(this.ShowMessage=!0,this.ResponseFromBackend=e,setTimeout(()=>this.ShowMessage=!1,5e3),e)switch(e.Error.Code){case 200:this.MessageType="success";break;default:this.MessageType="danger"}}),this.DataLoading=this.datastore.LoadingData.subscribe(e=>{this.IsLoading=e})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(lt.j),l.Y36(r.gz),l.Y36(g.Z))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-sessions-edit"]],decls:4,vars:3,consts:[[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[3,"type","close",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"sr-only"],[3,"type","close"],["SessionEditForm","ngForm"],[1,"form-group"],[2,"margin","3px"],["for","email"],["type","email","id","email","placeholder","exampe@example.com","name","sessionemail","required","","email","",1,"form-control","mb-1",3,"ngModel","disabled"],["for","name"],["type","text","id","ip","placeholder","example","name","sessionip","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","useragent","placeholder","example","name","sessionuseragent","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["for","roles"],["name","sessionrole","id","roles","required","",1,"form-control",3,"ngModel","disabled"],["value","guest_role_read_only"],["value","admin_role_CRUD"],["type","text","id","token","placeholder","example","name","sessiontoken","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","session","placeholder","example","name","sessionsession","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","issued","placeholder","example","name","sessionissued","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","expires","placeholder","example","name","sessionexpires","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","button","routerLink","..",1,"btn","btn-outline-danger",2,"margin-left","3px"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,bt,3,0,"div",1),l.qZA(),l.YNc(2,ft,2,2,"ngb-alert",2),l.YNc(3,Zt,44,18,"form",3)),2&e&&(l.xp6(1),l.Q6J("ngIf",t.IsLoading),l.xp6(1),l.Q6J("ngIf",t.ShowMessage),l.xp6(1),l.Q6J("ngIf",t.SessionToEdit))},directives:[s.O5,o.xm,n._Y,n.JL,n.F,n.Fj,n.Q7,n.on,n.JJ,n.On,n.EJ,n.YN,n.Kr,r.rH],styles:[""]}),e})();const wt=[{path:"",redirectTo:"users",pathMatch:"full"},{path:"users",component:f,canActivate:[c],children:[{path:"",redirectTo:"1",pathMatch:"full"},{path:":pn",component:ze,canActivate:[u],data:{expectedRole:"admin_role_CRUD"}},{path:":pn/new",component:Re},{path:":pn/:id",component:Re,resolve:[p]}]},{path:"sessions",component:f,canActivate:[c],children:[{path:"",redirectTo:"1",pathMatch:"full"},{path:":pn",component:pt,canActivate:[u],data:{expectedRole:"admin_role_CRUD"}},{path:":pn/new",component:xt},{path:":pn/:id",component:xt,resolve:[b]}]},{path:"media",component:f,canActivate:[c],children:[{path:"",redirectTo:"1",pathMatch:"full"},{path:":pn",component:Xe,canActivate:[u],data:{expectedRole:"admin_role_CRUD"}},{path:":pn/new",component:at},{path:":pn/:id",component:at,resolve:[m]}]}];let Tt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[r.Bz.forChild(wt)],r.Bz]}),e})(),yt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[s.ez,n.u5,o._A,o.jF,Tt,Ie]]}),e})()}}]);